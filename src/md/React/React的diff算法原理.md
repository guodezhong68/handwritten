diff算法触发更新的时机主要在state变化与hooks调用之后

经典的diff算法：

采用了分治的方式

树比对
两个虚拟DOM树只对同一层次的节点进行比较

组件比对
组件相同则进行树比对，不是则放入补丁中

元素比对
发生在同层级中，通过标记节点操作生成补丁，
节点操作对应真实的DOM剪裁操作

React16起引入了Fiber架构
为了使整个更新过程可以随时暂停恢复
节点和树分别采用FiberNode（双链表）和FiberTree进行重构
整个更新过程由current和workInProgress两株树双缓冲完成
workInProgress更新完成后，再修改current相关指针指向新节点

和Vue的diff算法有什么区别
vue没有时间切片的能力，并不意味着vue性能更差，
vue3初期引入过，因为收益不高移除掉了